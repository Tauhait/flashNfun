<html>
<head>
<title>Rescue Pikachu</title>
<link rel="shortcut icon" href="pika.ico" />
<script type="text/javascript" src="jquery-3.2.0.js"></script>
<script src='jquery.overlaps.js'></script>
<style>body{background:url("rocks2.png");margin:0;padding:0}#myCanvas{top:100px;left:250px;width:768px;height:500px;position:absolute;background:url("pikachu_background.jpg")}.backbtn{position:absolute;top:160px;left:1000px;width:70px;height:20px}.playAgain{position:absolute;top:3%;left:82%;width:150px;height:70px}#sendMyScore{position:absolute;top:160px;left:110px;width:100px;height:70px;text-align:center;background-color:#2f313d;color:#fff;font-family:cooper;font-size:22px;border:1px dotted;border-radius:25px/25px;cursor:pointer}#controls1{//background-color:black;position:absolute;height:20px;width:300px;top:0;left:0;font-family:cooper;font-size:30px;color:#fff;margin:10px}#controls2{//background-color:black;position:absolute;height:50px;width:350px;top:30px;left:0;font-family:cooper;font-size:30px;color:#fff;margin:10px}#foot{position:absolute;width:100%;height:30px;top:100%;font-family:"Cooper",serif;font-size:25px;text-align:center;background-color:#fc9}button{background-color:#4caf50;border:2px solid #4caf50;color:white;padding:15px 32px;text-align:center;text-decoration:none;font-family:chiller;font-size:25px;display:inline-block;width:100%;//margin:4px 2px;cursor:pointer;border-radius:10px;transition-duration:.4s;box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}button:hover{background-color:#ffff2a;color:white}.life{position:absolute;top:85%;left:80%;width:200px;height:50px}#l3{visibility:visible}#l2{visibility:visible}#l1{visibility:visible}</style>
</head>
<body onload="drawRock()" oncontextmenu="return false">
<h1 style="color:white;font-weight:bold;font-family:Papyrus;font-size:30px;width:350px;left:500px;top:10px;position:absolute;text-align:center">Rescue Pikachu</h1>
<div id="controls1">
<div>
Score :
<span id="scoreboard">0</span>
</div>
</div>
<div id="controls2">
<div>
Best Score :
<span id="bestscore">0</span>
</div>
</div>
<button class="playAgain" onclick="playAgain()">
Play Again
</button>
<canvas id="myCanvas" width="800" height="482" style="border:#ffff2a solid">
</canvas>
<div class="life">
<img id="l1" src="heart.png"/>
<img id="l2" src="heart.png"/>
<img id="l3" src="heart.png"/>
</div>
<div id="foot">Copyright &169;flashnfun.info</div>
<script>/*<![CDATA[*/<?php extract($_GET); ?>var pid=<?php echo json_encode($pid, JSON_HEX_TAG); ?>;console.log(pid);var gameplay=true;var life=3;var score=0;var canvas=document.getElementById("myCanvas");var hasCollided=false;var times_collided=0;var linearSpeed=10;var bs=0;var ns=0;var rocks_rumbling,booom,pika;booom=document.createElement("AUDIO");booom.setAttribute("src","Strong_Punch.wav");pika=document.createElement("AUDIO");pika.setAttribute("src","pika.wav");rocks_rumbling=document.createElement("AUDIO");rocks_rumbling.setAttribute("src","stones_rumbling.wav");rocks_rumbling.setAttribute("loop",true);rocks_rumbling.play();window.addEventListener("keydown",move,true);var context=canvas.getContext("2d");var lastTime=0;var yellowRock={radius:50,fillStyle:"yellow",x:50,y:20};var orangeRock={radius:50,fillStyle:"orange",x:250,y:20};var greenRock={radius:50,fillStyle:"green",x:450,y:20};var redRock={radius:50,fillStyle:"red",x:650,y:20};var step_over=25;var transition=20;var move_no=1;var imageObj=new Image();imageObj.src="pikachuu.png";var imageX,imageY;imageObj.onload=function(){drawImage(this)};var boom=new Image();boom.src="boom.jpg";if(gameplay){window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,10000/60)}})()}function init_obj(b,a,c){b.x=a;b.y=c}function init(){if(gameplay){context.clearRect(0,0,canvas.width,canvas.height);if(yellowRock.x===50){init_obj(yellowRock,100,5)}else{init_obj(yellowRock,50,5)}if(orangeRock.x===250){init_obj(orangeRock,300,25)}else{init_obj(orangeRock,250,25)}if(greenRock.x===450){init_obj(greenRock,500,10)}else{init_obj(greenRock,450,10)}if(redRock.x===650){init_obj(redRock,650,20)}else{init_obj(redRock,700,20)}drawRock();drawImage(imageObj);hasCollided=false}}function drawRock(){draw1(orangeRock.x,orangeRock.y,orangeRock.fillStyle,orangeRock.radius);draw1(greenRock.x,greenRock.y,greenRock.fillStyle,greenRock.radius);draw1(redRock.x,redRock.y,redRock.fillStyle,redRock.radius);draw1(yellowRock.x,yellowRock.y,yellowRock.fillStyle,yellowRock.radius)}function animate_roundRocks(d,e,a){if(hasCollided===false&&gameplay){var c=(new Date()).getTime();var b=(Math.abs(Math.sqrt(Math.pow(c,2)-Math.pow(d,2))))/10000000000;a.clearRect(e.x-e.radius-20,e.y-(2*e.radius),2*e.radius+25,2*e.radius+25);if((e.y+transition)>=(canvas.height)){e.y=0;ns+=100;document.getElementById("scoreboard").innerText=ns;if(e.x===50){e.x=100}else{if(e.x===100){e.x=50}else{if(e.x===250){e.x=300}else{if(e.x===300){e.x=250}else{if(e.x===450){e.x=500}else{if(e.x===500){e.x=450}else{if(e.x===650){e.x=700}else{if(e.x===700){e.x=650}}}}}}}}}else{e.y=e.y+b*transition+20}draw1(e.x,e.y,e.fillStyle,e.radius);requestAnimFrame(function(){setTimeout(function(){animate_roundRocks(c,e,a)},Math.floor((Math.random()*5)+1)*50)})}}function move(a){if(gameplay){if(a.keyCode===65||a.keyCode===97){animate1(imageObj,context)}else{if(a.keyCode===68||a.keyCode===100){animate2(imageObj,canvas,context)}}}}function drawImage(a){imageX=canvas.width/2-100;imageY=a.height+360;context.drawImage(a,imageX,imageY)}function playAgain(){for(var a=1;a<=5;a++){$("#l"+a).attr("src","heart.png")}rocks_rumbling.play();gameplay=true;init();setTimeout(function(){animate_roundRocks((new Date()).getTime(),yellowRock,context);animate_roundRocks((new Date()).getTime(),orangeRock,context);animate_roundRocks((new Date()).getTime(),greenRock,context);animate_roundRocks((new Date()).getTime(),redRock,context)},1000)}function collision(){if(times_collided===3){alert("Alas,Pika Died!");rocks_rumbling.pause();console.log(ns);console.log(bs);if(ns>bs){bs=ns;document.getElementById("bestscore").innerHTML=bs;console.log(bs)}ns=0;document.getElementById("scoreboard").innerHTML=ns;life=3;times_collided=0;gameplay=false}if(Math.abs(imageX-yellowRock.x)<=60||Math.abs((imageX)-(yellowRock.x-yellowRock.radius))<=55){if(imageY-50<yellowRock.y){rocks_rumbling.pause();++times_collided;hasCollided=true;ns-=50;document.getElementById("scoreboard").innerText=ns;context.drawImage(boom,canvas.width/2-120,canvas.height/4);booom.play();$("#l"+life).attr("src","heartBlack1.png");life-=1;init()}}if(Math.abs(imageX-orangeRock.x)<=60||Math.abs((imageX)-(orangeRock.x-orangeRock.radius))<=55){if(imageY-50<orangeRock.y){rocks_rumbling.pause();++times_collided;ns-=50;document.getElementById("scoreboard").innerText=ns;hasCollided=true;context.drawImage(boom,canvas.width/2-120,canvas.height/4);booom.play();$("#l"+life).attr("src","heartBlack1.png");life-=1;init()}}if(Math.abs(imageX-greenRock.x)<=60||Math.abs((imageX)-(greenRock.x-greenRock.radius))<=55){if(imageY-50<greenRock.y){rocks_rumbling.pause();++times_collided;hasCollided=true;ns-=50;document.getElementById("scoreboard").innerText=ns;context.drawImage(boom,canvas.width/2-120,canvas.height/4);booom.play();$("#l"+life).attr("src","heartBlack1.png");life-=1;init()}}if(Math.abs(imageX-redRock.x)<=60||Math.abs((imageX)-(redRock.x-redRock.radius))<=55){if(imageY-50<redRock.y){rocks_rumbling.pause();++times_collided;hasCollided=true;ns-=50;document.getElementById("scoreboard").innerText=ns;context.drawImage(boom,canvas.width/2-120,canvas.height/4);booom.play();$("#l"+life).attr("src","heartBlack1.png");life-=1;init()}}if(hasCollided===false){requestAnimFrame(function(){setTimeout(function(){collision()},5)})}}function draw1(d,b,c,e){var g=d;var f=b;var a=e;context.beginPath();context.arc(g,f,a,0,2*Math.PI,false);context.fillStyle=c;context.fill();context.lineWidth=5;context.strokeStyle="#003300";context.stroke()}function animate2(e,b,d){if(move_no===1){var a=d.createImageData(imageX,imageY);for(var c=0;c<=a.data.length;++c){a.data[c]=0}d.putImageData(a,imageX,imageY)}else{if(imageX!==0){var a=d.createImageData(38,imageY);for(var c=0;c<=a.data.length;++c){a.data[c]=0}d.putImageData(a,imageX,imageY)}else{if(imageX<=0){var a=d.createImageData(imageX+35,imageY);for(var c=0;c<=a.data.length;++c){a.data[c]=0}d.putImageData(a,0,imageY)}}}++move_no;var f=imageX+step_over;if(f>(b.width-44)){f=b.width-44}imageX=f;d.drawImage(e,imageX,imageY);pika.play()}function animate1(d,c){if(move_no===1){var a=c.createImageData(imageX,imageY);for(var b=0;b<=a.data.length;++b){a.data[b]=0}c.putImageData(a,imageX,imageY)}else{if(imageX!==0){var a=c.createImageData(imageX+40,imageY);for(var b=0;b<=a.data.length;++b){a.data[b]=0}c.putImageData(a,imageX,imageY)}}++move_no;var e=imageX-step_over;if(e<0){e=0}imageX=e;c.drawImage(d,imageX,imageY);pika.play()}function goBack(){score=document.getElementById("bestscore").innerText}setTimeout(function(){collision()},5);setTimeout(function(){animate_roundRocks((new Date()).getTime(),yellowRock,context)},3000);setTimeout(function(){animate_roundRocks((new Date()).getTime(),orangeRock,context)},3500);setTimeout(function(){animate_roundRocks((new Date()).getTime(),greenRock,context)},1500);setTimeout(function(){animate_roundRocks((new Date()).getTime(),redRock,context)},2200);document.onkeydown=function(b){return !b.ctrlKey||67!==b.keyCode&&86!==b.keyCode&&85!==b.keyCode&&117!==b.keyCode};</script>/*]]>*/</script>
</body>
</html>
<?php

